webpackJsonp([1,8],{1:function(t,e){t.exports=function(){var t=[];return t.toString=function(){for(var t=[],e=0;e<this.length;e++){var n=this[e];n[2]?t.push("@media "+n[2]+"{"+n[1]+"}"):t.push(n[1])}return t.join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var o={},s=0;s<this.length;s++){var i=this[s][0];"number"==typeof i&&(o[i]=!0)}for(s=0;s<e.length;s++){var r=e[s];"number"==typeof r[0]&&o[r[0]]||(n&&!r[2]?r[2]=n:n&&(r[2]="("+r[2]+") and ("+n+")"),t.push(r))}},t}},2:function(t,e,n){function o(t,e){for(var n=0;n<t.length;n++){var o=t[n],s=d[o.id];if(s){s.refs++;for(var i=0;i<s.parts.length;i++)s.parts[i](o.parts[i]);for(;i<o.parts.length;i++)s.parts.push(l(o.parts[i],e))}else{for(var r=[],i=0;i<o.parts.length;i++)r.push(l(o.parts[i],e));d[o.id]={id:o.id,refs:1,parts:r}}}}function s(t){for(var e=[],n={},o=0;o<t.length;o++){var s=t[o],i=s[0],r=s[1],a=s[2],l=s[3],c={css:r,media:a,sourceMap:l};n[i]?n[i].parts.push(c):e.push(n[i]={id:i,parts:[c]})}return e}function i(t,e){var n=h(),o=v[v.length-1];if("top"===t.insertAt)o?o.nextSibling?n.insertBefore(e,o.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),v.push(e);else{if("bottom"!==t.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(e)}}function r(t){t.parentNode.removeChild(t);var e=v.indexOf(t);e>=0&&v.splice(e,1)}function a(t){var e=document.createElement("style");return e.type="text/css",i(t,e),e}function l(t,e){var n,o,s;if(e.singleton){var i=g++;n=m||(m=a(e)),o=c.bind(null,n,i,!1),s=c.bind(null,n,i,!0)}else n=a(e),o=u.bind(null,n),s=function(){r(n)};return o(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;o(t=e)}else s()}}function c(t,e,n,o){var s=n?"":o.css;if(t.styleSheet)t.styleSheet.cssText=w(e,s);else{var i=document.createTextNode(s),r=t.childNodes;r[e]&&t.removeChild(r[e]),r.length?t.insertBefore(i,r[e]):t.appendChild(i)}}function u(t,e){var n=e.css,o=e.media,s=e.sourceMap;if(o&&t.setAttribute("media",o),s&&(n+="\n/*# sourceURL="+s.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(s))))+" */"),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}var d={},f=function(t){var e;return function(){return"undefined"==typeof e&&(e=t.apply(this,arguments)),e}},p=f(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),h=f(function(){return document.head||document.getElementsByTagName("head")[0]}),m=null,g=0,v=[];t.exports=function(t,e){e=e||{},"undefined"==typeof e.singleton&&(e.singleton=p()),"undefined"==typeof e.insertAt&&(e.insertAt="bottom");var n=s(t);return o(n,e),function(t){for(var i=[],r=0;r<n.length;r++){var a=n[r],l=d[a.id];l.refs--,i.push(l)}if(t){var c=s(t);o(c,e)}for(var r=0;r<i.length;r++){var l=i[r];if(0===l.refs){for(var u=0;u<l.parts.length;u++)l.parts[u]();delete d[l.id]}}}};var w=function(){var t=[];return function(e,n){return t[e]=n,t.filter(Boolean).join("\n")}}()},4:function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var s=n(8),i=o(s);e.default=i.default||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t}},5:function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var s=n(3),i=o(s);e.default={replace:!0,props:{pageType:String,fixHead:Boolean,messageCount:Number,needAdd:{type:Boolean,default:!0}},data:function(){return{nickname:"",profileimgurl:"",show:!1}},methods:{openMenu:function(){(0,i.default)("html, body, #page").addClass("scroll-hide"),this.show=!this.show},showMenus:function(){this.show=!this.show,(0,i.default)("html, body, #page").removeClass("scroll-hide")}},components:{nvMenu:n(19)}}},6:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={replace:!0,props:["showMenu","pageType","nickname","profileUrl"],components:{userInfo:n(20)}}},7:function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var s=n(4),i=o(s),r=n(25);e.default={replace:!0,computed:(0,i.default)({},(0,r.mapGetters)({userInfo:"getUserInfo"})),methods:{goEnter:function(){this.$router.push({name:"login",query:{redirect:encodeURIComponent(this.$route.path)}})},goUser:function(){this.$router.push({name:"user",params:{loginname:this.userInfo.loginname}})}}}},8:function(t,e,n){t.exports={default:n(9),__esModule:!0}},9:function(t,e,n){n(13),t.exports=n(24).Object.assign},10:function(t,e,n){"use strict";var o=n(29),s=n(11),i=n(12),r=n(30),a=n(28),l=Object.assign;t.exports=!l||n(26)(function(){var t={},e={},n=Symbol(),o="abcdefghijklmnopqrst";return t[n]=7,o.split("").forEach(function(t){e[t]=t}),7!=l({},t)[n]||Object.keys(l({},e)).join("")!=o})?function(t,e){for(var n=r(t),l=arguments.length,c=1,u=s.f,d=i.f;l>c;)for(var f,p=a(arguments[c++]),h=u?o(p).concat(u(p)):o(p),m=h.length,g=0;m>g;)d.call(p,f=h[g++])&&(n[f]=p[f]);return n}:l},11:function(t,e){e.f=Object.getOwnPropertySymbols},12:function(t,e){e.f={}.propertyIsEnumerable},13:function(t,e,n){var o=n(27);o(o.S+o.F,"Object",{assign:n(10)})},14:function(t,e,n){e=t.exports=n(1)(),e.push([t.id,".nav-list{position:fixed;top:0;bottom:0;left:-200px;width:200px;background-color:#fff;color:#313131;transition:all .3s ease;z-index:99}.nav-list.show{transform:translateX(200px)}.list-ul{margin:0 24px;border-top:1px solid #d4d4d4;overflow:hidden;padding-top:9%}.list-ul .item{display:block;font-size:14px;font-weight:200;padding:9% 0;text-align:left;text-indent:1px;line-height:15px;color:#313131;font-weight:700}.list-ul .item:last-child{margin-bottom:50px}.list-ul .item:before{color:#2c3e50}.list-ul .line{border-top:1px solid #d4d4d4}","",{version:3,sources:["/./src/components/menu.vue"],names:[],mappings:"AACA,UAAU,eAAe,MAAM,SAAS,YAAY,YAAY,sBAAsB,cAAc,wBAAwB,UAAU,CACrI,AACD,eAAe,2BAA2B,CACzC,AACD,SAAS,cAAc,6BAA6B,gBAAgB,cAAc,CACjF,AACD,eAAe,cAAc,eAAe,gBAAgB,aAAa,gBAAgB,gBAAgB,iBAAiB,cAAc,eAAe,CACtJ,AACD,0BAA0B,kBAAkB,CAC3C,AACD,sBAAsB,aAAa,CAClC,AACD,eAAe,4BAA4B,CAC1C",file:"menu.vue",sourcesContent:["\n.nav-list{position:fixed;top:0;bottom:0;left:-200px;width:200px;background-color:#fff;color:#313131;transition:all .3s ease;z-index:99\n}\n.nav-list.show{transform:translateX(200px)\n}\n.list-ul{margin:0 24px;border-top:1px solid #d4d4d4;overflow:hidden;padding-top:9%\n}\n.list-ul .item{display:block;font-size:14px;font-weight:200;padding:9% 0;text-align:left;text-indent:1px;line-height:15px;color:#313131;font-weight:700\n}\n.list-ul .item:last-child{margin-bottom:50px\n}\n.list-ul .item:before{color:#2c3e50\n}\n.list-ul .line{border-top:1px solid #d4d4d4\n}\n"],sourceRoot:"webpack://"}])},15:function(t,e,n){e=t.exports=n(1)(),e.push([t.id,"","",{version:3,sources:[],names:[],mappings:"",file:"user-info.vue",sourceRoot:"webpack://"}])},16:function(t,e,n){var o=n(14);"string"==typeof o&&(o=[[t.id,o,""]]);n(2)(o,{});o.locals&&(t.exports=o.locals)},17:function(t,e,n){var o=n(15);"string"==typeof o&&(o=[[t.id,o,""]]);n(2)(o,{});o.locals&&(t.exports=o.locals)},18:function(t,e,n){var o,s;o=n(5);var i=n(22);s=o=o||{},"object"!=typeof o.default&&"function"!=typeof o.default||(s=o=o.default),"function"==typeof s&&(s=s.options),s.render=i.render,s.staticRenderFns=i.staticRenderFns,t.exports=o},19:function(t,e,n){var o,s;n(16),o=n(6);var i=n(21);s=o=o||{},"object"!=typeof o.default&&"function"!=typeof o.default||(s=o=o.default),"function"==typeof s&&(s=s.options),s.render=i.render,s.staticRenderFns=i.staticRenderFns,t.exports=o},20:function(t,e,n){var o,s;n(17),o=n(7);var i=n(23);s=o=o||{},"object"!=typeof o.default&&"function"!=typeof o.default||(s=o=o.default),"function"==typeof s&&(s=s.options),s.render=i.render,s.staticRenderFns=i.staticRenderFns,t.exports=o},21:function(t,e){t.exports={render:function(){var t=this;return t._h("section",{staticClass:"nav-list",class:{show:t.showMenu},attrs:{id:"sideBar"}},[t._h("user-info")," ",t._h("section",{staticClass:"list-ul"},[t._h("router-link",{staticClass:"icon-quanbu iconfont item",attrs:{to:{name:"list",query:{tab:"all"}}}},["\n        全部\n      "])," ",t._h("router-link",{staticClass:"icon-hao iconfont item",attrs:{to:{name:"list",query:{tab:"good"}}}},["\n        精华\n      "])," ",t._h("router-link",{staticClass:"icon-fenxiang iconfont item",attrs:{to:{name:"list",query:{tab:"share"}}}},["\n        分享\n      "])," ",t._h("router-link",{staticClass:"icon-wenda iconfont item",attrs:{to:{name:"list",query:{tab:"ask"}}}},["\n        问答\n      "])," ",t._h("router-link",{staticClass:"icon-zhaopin iconfont item",attrs:{to:{name:"list",query:{tab:"job"}}}},["\n        招聘\n      "])," ",t._h("router-link",{staticClass:"icon-xiaoxi iconfont item line",attrs:{to:{name:"message"}}},["\n        消息\n      "])," ",t._h("router-link",{staticClass:"icon-about iconfont item",attrs:{to:{name:"about"}}},["\n        关于\n      "])])])},staticRenderFns:[]}},22:function(t,e){t.exports={render:function(){var t=this;return t._h("div",{},[t.show&&t.fixHead?t._h("div",{staticClass:"page-cover",on:{click:t.showMenus}}):t._e()," ",t._h("header",{class:{show:t.show&&t.fixHead,"fix-header":t.fixHead,"no-fix":!t.fixHead},attrs:{id:"hd"}},[t._h("div",{staticClass:"nv-toolbar"},[t.fixHead?t._h("div",{staticClass:"toolbar-nav",on:{click:t.openMenu}}):t._e()," ",t._h("span",{domProps:{textContent:t._s(t.pageType)}})," ",t.messageCount>0?t._h("i",{staticClass:"num"},[t._s(t.messageCount)]):t._e()," ",t._h("router-link",{attrs:{to:"/add"}},[t.needAdd?t._h("i",{directives:[{name:"show",rawName:"v-show",value:!t.messageCount||t.messageCount<=0,expression:"!messageCount || messageCount <= 0"}],staticClass:"iconfont add-icon"},[""]):t._e()])])])," ",t.fixHead?t._h("nv-menu",{attrs:{"show-menu":t.show,"page-type":t.pageType,"nick-name":t.nickname,"profile-url":t.profileimgurl}}):t._e()])},staticRenderFns:[]}},23:function(t,e){t.exports={render:function(){var t=this;return t._h("div",{staticClass:"user-info"},[t.userInfo.loginname?t._e():t._h("ul",{staticClass:"login-no"},[t._h("li",{staticClass:"login",on:{click:t.goEnter}},[t._m(0)])])," "," ",t.userInfo.loginname?t._h("div",{staticClass:"login-yes",on:{click:t.goUser}},[t._h("div",{staticClass:"avertar"},[t.userInfo.avatar_url?t._h("img",{attrs:{src:t.userInfo.avatar_url}}):t._e()])," ",t._h("div",{staticClass:"info"},[t.userInfo.loginname?t._h("p",{domProps:{textContent:t._s(t.userInfo.loginname)}}):t._e()])]):t._e()])},staticRenderFns:[function(){var t=this;return t._h("a",["登录"])}]}},32:function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var s=n(3),i=o(s);e.default={replace:!0,data:function(){return{show:!1,timer:""}},mounted:function(){var t=this;(0,i.default)(window).on("scroll",function(){(0,i.default)(window).scrollTop()>100?t.show=!0:t.show=!1})},beforeDestory:function(){(0,i.default)(window).off("scroll")},methods:{goTop:function(){var t=this;clearInterval(this.timer),this.timer=setInterval(function(){var e=document.body.scrollTop||document.documentElement.scrollTop;if(0===e)return void clearInterval(t.timer);var n=Math.floor(-e/10);document.body.scrollTop=document.documentElement.scrollTop=e+n},15),this.show=!1}}}},33:function(t,e,n){t.exports={default:n(34),__esModule:!0}},34:function(t,e,n){var o=n(24),s=o.JSON||(o.JSON={stringify:JSON.stringify});t.exports=function(t){return s.stringify.apply(s,arguments)}},38:function(t,e,n){e=t.exports=n(1)(),e.push([t.id,".icon-top{position:fixed;right:10px;bottom:80px;font-size:50px;z-index:9999;color:#42b983}","",{version:3,sources:["/./src/components/backtotop.vue"],names:[],mappings:"AACA,UAAU,eAAe,WAAW,YAAY,eAAe,aAAa,aAAa,CACxF",file:"backtotop.vue",sourcesContent:["\n.icon-top{position:fixed;right:10px;bottom:80px;font-size:50px;z-index:9999;color:#42b983\n}\n"],sourceRoot:"webpack://"}])},39:function(t,e,n){var o=n(38);"string"==typeof o&&(o=[[t.id,o,""]]);n(2)(o,{});o.locals&&(t.exports=o.locals)},40:function(t,e,n){var o,s;n(39),o=n(32);var i=n(41);s=o=o||{},"object"!=typeof o.default&&"function"!=typeof o.default||(s=o=o.default),"function"==typeof s&&(s=s.options),s.render=i.render,s.staticRenderFns=i.staticRenderFns,t.exports=o},41:function(t,e){t.exports={render:function(){var t=this;return t._h("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"iconfont icon-top",on:{click:t.goTop}},["\n  "])},staticRenderFns:[]}},48:function(t,e,n){var o,s;o=n(61);var i=n(123);s=o=o||{},"object"!=typeof o.default&&"function"!=typeof o.default||(s=o=o.default),"function"==typeof s&&(s=s.options),s.render=i.render,s.staticRenderFns=i.staticRenderFns,t.exports=o},61:function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var s=n(33),i=o(s),r=n(3),a=o(r),l=n(31),c=o(l),u=n(18),d=o(u),f=n(40),p=o(f);e.default={filters:{getLastTimeStr:function(t,e){return c.default.getLastTimeStr(t,e)}},data:function(){return{scroll:!0,topics:[],searchKey:{page:1,limit:20,tab:"all",mdrender:!0},searchDataStr:""}},mounted:function(){this.$route.query&&this.$route.query.tab&&(this.searchKey.tab=this.$route.query.tab),window.window.sessionStorage.searchKey&&window.window.sessionStorage.tab===this.searchKey.tab?(this.topics=JSON.parse(window.window.sessionStorage.topics),this.searchKey=JSON.parse(window.window.sessionStorage.searchKey),this.$nextTick(function(){return(0,a.default)(window).scrollTop(window.window.sessionStorage.scrollTop)})):this.getTopics(),(0,a.default)(window).on("scroll",c.default.throttle(this.getScrollData,300,1e3))},beforeRouteLeave:function(t,e,n){"topic"===t.name&&(window.window.sessionStorage.scrollTop=(0,a.default)(window).scrollTop(),window.window.sessionStorage.topics=(0,i.default)(this.topics),window.window.sessionStorage.searchKey=(0,i.default)(this.searchKey),window.window.sessionStorage.tab=e.query.tab||"all"),(0,a.default)(window).off("scroll"),n()},beforeRouteEnter:function(t,e,n){"topic"!==e.name&&window.window.sessionStorage.tab&&(window.window.sessionStorage.removeItem("topics"),window.window.sessionStorage.removeItem("searchKey"),window.window.sessionStorage.removeItem("tab")),n()},methods:{getTitleStr:function(t){var e="";switch(t){case"share":e="分享";break;case"ask":e="回答";break;case"job":e="招聘";break;case"good":e="精华";break;default:e="全部"}return e},getTabInfo:function(t,e,n,o){return c.default.getTabInfo(t,e,n,o)},getTopics:function(){var t=this,e=a.default.param(this.searchKey);a.default.get("https://cnodejs.org/api/v1/topics?"+e,function(e){t.scroll=!0,e&&e.data&&(t.topics=e.data)})},getScrollData:function(){if(this.scroll){var t=parseInt((0,a.default)(window).height(),20)+parseInt((0,a.default)(window).scrollTop(),20);(0,a.default)(document).height()<=t+200&&(this.scroll=!1,this.searchKey.limit+=20,this.getTopics())}}},watch:{$route:function(t,e){t.query&&t.query.tab&&(this.searchKey.tab=t.query.tab),this.searchKey.limit=20,this.getTopics(),this.$refs.head.show=!1}},components:{nvHead:d.default,nvTop:p.default}}},123:function(t,e){t.exports={render:function(){var t=this;return t._h("div",[t._h("nv-head",{ref:"head",attrs:{"page-type":t.getTitleStr(t.searchKey.tab),"fix-head":!0,"need-add":!0}})," ",t._h("section",{attrs:{id:"page"}},[t._h("ul",{staticClass:"posts-list"},[t._l(t.topics,function(e){return t._h("li",[t._h("router-link",{attrs:{to:{name:"topic",params:{id:e.id}}}},[t._h("h3",{class:t.getTabInfo(e.tab,e.good,e.top,!0),attrs:{title:t.getTabInfo(e.tab,e.good,e.top,!1)},domProps:{textContent:t._s(e.title)}})," ",t._h("div",{staticClass:"content"},[t._h("img",{staticClass:"avatar",attrs:{src:e.author.avatar_url,alt:"avatar"}})," ",t._h("div",{staticClass:"info"},[t._h("p",[t._h("span",{staticClass:"name"},["\n                  "+t._s(e.author.loginname)+"\n                "])," ",e.reply_count>0?t._h("span",{staticClass:"status"},[t._h("b",[t._s(e.reply_count)]),"/"+t._s(e.visit_count)+"\n                "]):t._e()])," ",t._h("p",[t._h("time",[t._s(t._f("getLastTimeStr")(e.create_at,!0))])," ",t._h("time",[t._s(t._f("getLastTimeStr")(e.last_reply_at,!0))])])])])])])})])])," ",t._h("nv-top")])},staticRenderFns:[]}}});
//# sourceMappingURL=1.afbef7bfb21c5abcef0f.js.map